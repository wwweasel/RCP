<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head"></head>>

<body>

	<div class="container-fluid">
		
		<div class="col-6">
			
			<form th:action="@{/edit}" th:method="POST" th:object="${employeesDTO}">
				<fieldset>
				<legend> Edit Employees </legend>
				
					<div th:each="employee, itemStat : *{employees}">
						
						
						<div class="card" style="margin-top: 1.5em;">
							
							<div class="card-header">
								<h6 th:text="|Edit Employee with ID: *{employees[__${itemStat.index}__].id}|">Edit Employee</h6>
							</div>
								
							<div class="card-body">
								
								<input name="id" type="hidden" th:field="*{employees[__${itemStat.index}__].id}" />
								
								<div class="form-grp row">
									<label for="name" class="col-md-12 col-lg-3 col-form-label">Name:</label>
									<div class="col-md-12 col-lg-9">
										<input class="form-control" th:field="*{employees[__${itemStat.index}__].name}" placeholder="name"/>
										<div th:errors="*{employees[__${itemStat.index}__].name}" class="alert alert-danger" role="alert"></div>
									</div>
								</div>
								<div class="form-grp row">
									<label for="surname" class="col-md-12 col-lg-3 col-form-label">Surname:</label>
									<div class="col-md-12 col-lg-9">
										<input class="form-control" th:field="*{employees[__${itemStat.index}__].surname}" placeholder="Surname"/>
										<div th:errors="*{employees[__${itemStat.index}__].surname}" class="alert alert-danger" role="alert"></div>
									</div>
								</div>
									  
								<div class="form-grp row">
									<label for="profession" class="col-md-12 col-lg-3 col-form-label">Profession:</label>
									<select class="form-control selectpicker col-md-12 col-lg-9" th:field="*{employees[__${itemStat.index}__].profession}">
										<option th:each="profession : ${professions}"
											th:value="${profession.getId()}"
											th:text="${profession.getProfession()}">
										</option>
									</select>
								</div>
								
								<div class="form-grp">
									<label class="col-md-2 col-form-label"></label>
								</div>
								
							</div>
						</div>
					
	                </div>
				
				</fieldset>
				<button type="submit" formaction="/" formmethod="get" class="btn btn-secondary">Cancel</button>
				<button type="submit" class="btn btn-primary float-right">Save</button>
			</form>
			
		</div>
	</div>
	
</body>
</html>